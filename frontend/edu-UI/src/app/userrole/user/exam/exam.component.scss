.page{padding:0.5rem}

:host ::ng-deep .mat-mdc-form-field-subscript-wrapper {
	display: none;
}

.exam-actions button {background: var(--button-1) !important; color: var(--button-text-1) !important;}
.exam-actions button:hover {background: var(--button-1-hover) !important; color: var(--button-text-2) !important;}

/* hide cards on desktop, show on mobile */
.exam-cards { display: none; }

@media (max-width: 960px) {
  .list-wrapper { display: none; } /* hide table on small screens */
  .exam-cards { display: block; }

  .exam-card {
    border-radius: 0.5rem;
    background: #fff;
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    box-shadow: 0 1px 3px rgba(0,0,0,.06);
    display: flex;
    flex-direction: column;
  }
  .exam-card .meta {
    display:flex;
    justify-content:space-between;
    gap:0.5rem;
    margin-bottom:0.5rem;
  }
  .exam-card .actions { display:flex; justify-content:flex-end; }
  .exam-card button { min-width: 5.25rem; height: 2.5rem; }
}

  /* Tab styling to match table header */
  :host ::ng-deep .exam-tabs .mat-mdc-tab-header {
    background: #f5f7fa; /* match table header bg */
    border-radius: 8px 8px 0 0;
    border-bottom: 1px solid #e0e4ea;
  }
  :host ::ng-deep .exam-tabs .mat-mdc-tab-labels {
    min-height: 3rem;
  }
  :host ::ng-deep .exam-tabs .mat-mdc-tab-label {
    color: #4a555f;
    font-weight: 600;
    font-size: 0.9375rem;
    padding: 0 1.5rem;
    min-height: 3rem;
    // background: transparent;
    border-radius: 8px 8px 0 0;
    margin-right: 2px;
    transition: background 0.2s;
  }
  :host ::ng-deep .exam-tabs .mat-mdc-tab-label.mat-mdc-tab-label-active {
    background-color: var(--table-header-bg);
    color: #1e88e5;
    box-shadow: 0 2px 8px rgba(30,136,229,0.04);
    border-bottom: 2px solid #1e88e5;
    z-index: 2;
  }
  :host ::ng-deep .exam-tabs .mat-mdc-tab-label:not(.mat-mdc-tab-label-active):hover {
    background-color: var(--table-header-bg);
  }

  /* Review Modal */
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

  .review-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); 
    display: flex; align-items: center; justify-content: center; z-index: 1400; padding: 20px; animation: fadeIn 0.2s; }
  
  .review-panel { width: min(1200px, 98%); max-height: 90vh; overflow: hidden; display: flex; flex-direction: column;
    background: #fff; border-radius: 16px; box-shadow: 0 24px 60px rgba(0,0,0,0.2); animation: slideUp 0.3s; }
  
  .review-header { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 1.75rem;
    border-bottom: 1px solid #e5e7eb; background: linear-gradient(to bottom, #fff, #f9fafb);
    h3 { margin: 0; font-size: 1.375rem; font-weight: 700; color: #111827; display: flex; align-items: center; gap: 0.625rem;
      &:before { content: 'ðŸ“Š'; font-size: 1.5rem; } }
    button { background: #f3f4f6; border-radius: 0.5rem; transition: all 0.2s;
      &:hover { background: #e5e7eb; transform: scale(1.05); } } }
  
  .review-list { overflow-y: auto; padding: 1.25rem 1.25rem 5rem; max-height: calc(90vh - 6.25rem);
    &::-webkit-scrollbar { width: 0.625rem; }
    &::-webkit-scrollbar-track { background: #f1f5f9; border-radius: 0.3125rem; margin: 0.25rem 0; }
    &::-webkit-scrollbar-thumb { background: linear-gradient(to bottom, #cbd5e1, #94a3b8); border-radius: 0.3125rem; border: 2px solid #f1f5f9;
      &:hover { background: linear-gradient(to bottom, #94a3b8, #64748b); } } }
  
  .attempt-meta { display: flex; flex-direction: column; gap: 1rem; margin-bottom: 1rem; padding: 1rem;
    background: linear-gradient(135deg, #fff 0%, #f8fafc 100%); border-radius: 0.75rem; border: 1px solid #e2e8f0; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
  
  .meta-row { display: flex; gap: 1.25rem; flex-wrap: wrap;
    &.primary-row { padding-bottom: 1rem; border-bottom: 2px solid #e2e8f0;
      .meta-item { flex: 1; min-width: 9.375rem; padding: 1rem 1.25rem; background: linear-gradient(135deg, #f8fafc, #f1f5f9);
        border-radius: 0.625rem; border: 1px solid #e2e8f0; text-align: center; transition: all 0.2s;
        &:hover { transform: translateY(-0.125rem); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        strong { display: block; font-size: 0.6875rem; text-transform: uppercase; letter-spacing: 0.8px; color: #64748b; font-weight: 700; margin-bottom: 0.5rem; }
        .value { display: block; font-size: 1.25rem; font-weight: 700; color: #1e293b; } }
      .score-item .value { color: #3b82f6; } }
    &.secondary-row .meta-item { flex: 1; min-width: 11.25rem; display: flex; flex-direction: column; gap: 0.375rem;
      strong { font-size: 0.6875rem; text-transform: uppercase; letter-spacing: 0.5px; color: #64748b; font-weight: 600; }
      .value { font-size: 0.875rem; font-weight: 600; color: #1e293b; } } }
  
  .status-badge { padding: 0.375rem 1rem !important; border-radius: 1.25rem !important; font-size: 0.8125rem !important; 
    font-weight: 700 !important; letter-spacing: 0.5px; text-transform: uppercase;
    &.status-pass { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
    &.status-fail { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
    &.status-correct { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
    &.status-incorrect { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; } }
  
  .result-badge { padding: 0.375rem 1rem !important; border-radius: 1.25rem !important; font-size: 0.8125rem !important;
    font-weight: 700 !important; letter-spacing: 0.5px; text-transform: uppercase;
    &.result-pass { background: linear-gradient(135deg, #10b981, #059669); color: white !important; box-shadow: 0 2px 8px rgba(16,185,129,0.3); }
    &.result-fail { background: linear-gradient(135deg, #ef4444, #dc2626); color: white; box-shadow: 0 2px 8px rgba(239,68,68,0.3); } }
  
  .review-table { width: 100%; border-collapse: separate; border-spacing: 0; margin: 0.5rem 0 5rem;
    border-radius: 0.75rem; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    th, td { padding: 0.875rem 1rem; text-align: left; border-bottom: 1px solid #f1f5f9; }
    thead th { background: var(--table-header-bg); font-weight: 500; color: var(--table-header-text); font-size: 0.8125rem;
      text-transform: uppercase; letter-spacing: 0.5px; position: sticky; top: 0; z-index: 10; border-bottom: 2px solid #e2e8f0; }
    tbody tr { transition: all 0.2s;
      &:hover { background: #f8fafc; transform: scale(1.001); }
      &:last-child td { border-bottom: none; }
      td { vertical-align: top; font-size: 0.875rem; color: #334155; } } }

  /* Options list styling inside review rows */
  .options-list { list-style: none; padding: 0.5rem 0 0 0; margin: 0; display: grid; grid-template-columns: 1fr; gap: 0.5rem; }
  .options-list li { display: flex; align-items: center; justify-content: space-between; gap: 0.75rem; padding: 0.625rem 0.75rem; border-radius: 0.5rem; background: #fff; border: 1px solid #eef2f7; transition: all 0.12s; }
  .options-list li .opt-text { flex: 1; color: #0f172a; font-weight: 500; }
  .options-list li .opt-indicator mat-icon { color: #60a5fa; }

  .option-correct { box-shadow: 0 1px 0 rgba(16,185,129,0.06); border-color: #dcfce7; }
  .option-selected { background: linear-gradient(90deg,#f8fafc,#f1f5f9); border-color: #c7e7ff; }
  .option-selected-correct { background: linear-gradient(90deg,#ecfdf5,#d1fae5); border-color: #a7f3d0; }
  .option-selected-incorrect { background: linear-gradient(90deg,#fff7f7,#fff1f1); border-color: #fecaca; }
  .option-selected-correct .opt-indicator mat-icon { color: #059669; }
  .option-selected-incorrect .opt-indicator mat-icon { color: #b91c1c; }
  .option-correct { box-shadow: 0 1px 0 rgba(16,185,129,0.06); border-color: #dcfce7; }
  .option-correct { background: linear-gradient(90deg,#ecfdf5,#d1fae5); border-color: #a7f3d0; }
  .correct-indicator mat-icon { color: #065f46; margin-left: 8px; }
  .not-answered { margin: 8px 0; display: inline-block; padding: 6px 10px; background: #fff7ed; border: 1px solid #ffe6cc; color: #92400e; border-radius: 6px; font-weight: 700; }

  .fill-answer { margin-top: 0.5rem; display: flex; flex-direction: column; gap: 0.5rem; }
  .fill-row { display: flex; gap: 0.75rem; align-items: center; }
  .fill-label { min-width: 5.625rem; font-weight: 600; color: #475569; }
  .fill-value { padding: 0.5rem 0.75rem; border-radius: 0.5rem; background: #fff; border: 1px solid #e6eef7; font-weight: 600; }
  .fill-correct { background: #ecfdf5; border-color: #bbf7d0; color: #065f46; }
  .fill-incorrect { background: #fff1f2; border-color: #fecaca; color: #991b1b; }
  .fill-value.expected { background: linear-gradient(90deg,#f8fafc,#f1f5f9); border-color: #e2e8f0; font-weight: 700; }
  .feedback { margin-top: 6px; color: #7f1d1d; font-style: italic; }

  .marks-cell { text-align: center; vertical-align: middle; }
  .marks { display: inline-block; min-width: 3rem; padding: 0.5rem 0.625rem; border-radius: 0.5rem; font-weight: 700; background: #f8fafc; border: 1px solid #e2e8f0; color: #0f172a; }
  .status-cell { text-align: center; vertical-align: middle; }
  .status-badge { display: inline-block; min-width: 5rem; padding: 0.375rem 0.75rem; border-radius: 999px; font-weight: 700; }
  .status-pass { background: #d1fae5; color: #065f46; border: 1px solid #a7f3d0; }
  .status-fail { background: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
  
  .row-correct { background: linear-gradient(to right, #ecfdf5, #f0fdf4); border-left: 0.25rem solid #10b981;
    &:hover { background: linear-gradient(to right, #d1fae5, #dcfce7); } }
  .row-incorrect { background: linear-gradient(to right, #fef2f2, #fff5f5); border-left: 0.25rem solid #ef4444;
    &:hover { background: linear-gradient(to right, #fee2e2, #fef5f5); } }
  
  .question-cell { font-weight: 500; color: #1e293b; line-height: 1.6; }
  .answer-cell { font-weight: 600; color: #059669; }
  .user-answer-cell { font-weight: 600; }
  .status-cell { text-align: center; }
  
  :host ::ng-deep .review-panel .mat-mdc-tab-header { background: #f8fafc; border-bottom: 2px solid #e2e8f0; padding: 0 16px; }
  :host ::ng-deep .review-panel .mat-mdc-tab-label { font-weight: 600; color: #64748b; transition: all 0.2s;
    &:hover { color: #3b82f6; } }
  :host ::ng-deep .review-panel .mat-mdc-tab-label-active { color: #3b82f6; }

  @media (max-width: 720px){
    .review-panel{ 
      width: 100%;
      max-height: 100vh;
      border-radius: 0;
    }
    
    .review-header {
      padding: 1rem 1.25rem;
      
      h3 {
        font-size: 1.125rem;
      }
    }
    
    .review-list {
      padding: 1rem;
    }
    
    .attempt-meta {
      grid-template-columns: 1fr;
      padding: 1rem;
    }
    
    .col-question, .col-answer, .col-user-answer{ 
      display: block; 
      width: 100%;
    }
    
    .review-table th, .review-table td{ 
      padding: 0.625rem 0.75rem;
      font-size: 0.8125rem;
    }
  }

